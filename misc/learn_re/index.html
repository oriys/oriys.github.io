<!doctype html><html lang=en-us><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><script type=text/javascript src=https://latest.cactus.chat/cactus.js></script>
<link rel=stylesheet href=https://latest.cactus.chat/style.css type=text/css><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>学习正则表达式 | Y.CH.Y</title><link rel=canonical href=/misc/learn_re/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="学习正则表达式"><meta property="og:description" content="字符组 普通字符组 字符组是一组字符，在正则表达式中，它表示“在同一个位置可能出现的各种字符”，其写法是在一对方括号[和]之间列出所有可能出现的字符，简单的字符组包括[ab]、 [314]、[#.?]等。
普通字符串匹配数字字符的正则表达式：
[0123456789]
范围字符组 正则表达式提供了-范围表示法(range)，它更直观，能进一步简化字符组。所谓-范围表示法，就是用 麻烦，这样 就可以表示为确实比的形式表示 x 到 y 整个范围内的字符，省去一一列出的麻烦。 在字符组中，-表示的范围，一般是根据字符对应的码值(Code Point，也就是字符在对应编码表中的编码的数值)来确定的，码值小的字符在前，码值大的字符在后。因此[0-9] 是合法的，[9-0]会报错。
范围字符串匹配数字字符的正则表达式：
[0-9]
在字符组中可以同时并列多个-范围表示法，字符组[0-9a-zA-Z]可以匹配数字、大写 字母或小写字母
表示十六进制
[0-9a-fA-F]
字符串转义 在字符组中，如果要匹配的字符是特殊字符，就需要对特殊字符进行转义，比如要匹配字符组中的-，就需要对-进行转义，即\-。但是有时候却不需要转义。
如果要在字符组中匹配-，最好的办法是把-放在字符组的最前面或者最后面，这样就不需要转义了。比如，要匹配-，可以写成[0-9-]或者[-0-9]。
同理，如果要字符组中匹配方括号，则需要在方括号前面加上反斜杠\进行转义，即[123\]567]如果要匹配[123]567，则正则表达式为\[123\]567]，末尾的]不需要转义。
取反字符组 在字符组中，如果在第一个字符前面加上^，则表示取反，即不匹配字符组中的字符。比如，[^0-9]表示不匹配数字字符，[^a-z]表示不匹配小写字母。取反字符组必须匹配一个字符，如果不匹配任何字符，则会报错。
匹配0,9之外的数字
java
[^09]
^是正则表达式的元字符，只在[后面才表示取反，如果^不在[后面，匹配时不需要转义。 [0^12]和[\^012]是等价的，都表示匹配字符0、^或1、2。但是后者写起来会麻烦一些。
字符组简记法 对于常用的字符组，正则表达式提供了简记法，比如\d表示数字字符，\w表示单词字符，\s表示空白字符。
字符组 简记法 完整表示 数字字符 \d [0-9] 单词字符 \w [a-zA-Z0-9_] 空白字符 \s [ \t\n\v\f\r] \w 匹配单词字符，即字母、数字或下划线。如果只要匹配字母和数字，可以使用[a-zA-Z0-9]。
简记法也可以和普通字符组、范围字符组、取反字符组混合使用。
用在普通字符串内部
[\da-zA-Z]表示匹配数字字符或字母字符。
用在取反字符组内部
[^\w]表示匹配非单词字符。
\D, \W, \S 的使用
\D、\W、\S分别表示非数字字符、非单词字符、非空白字符。他们与\d、\w、\s形成互补关系。
匹配所有字符
[\s\S],\s表示空白字符，\S表示非空白字符，因此[\s\S]表示所有字符。同理，[\d\D] 和 [\w\W]表示所有字符。
如果在字符组中使用了简记法，则最好不要出现范围字符组，比如[\d-a]，简记法和范围字符组混用会导致不可预知的结果。
字符组运算 有部分编程语言提供了字符组运算的支持。不同的编程语言支持的字符组运算符不同，比如Java中的字符组运算符是&&，而Go中的字符组运算符是-。
我们要实现在字母中排除元音字母的效果，按照之前的写法，需要写成[bcdfghjklmnpqrstvwxyz]或者[b-df-hj-np-tv-z]，如果使用字符组运算，可以写成[a-z&&[^aeiou]] 。在这里，&&表示字符组运算符，&&前面的字符组表示基础字符组，&&后面的字符组表示排除字符组，即基础字符组中排除排除字符组中的字符。两者取交集，得到最终的字符组。"><meta property="og:type" content="article"><meta property="og:url" content="/misc/learn_re/"><meta property="article:section" content="misc"><meta property="article:published_time" content="2023-02-28T00:03:05+08:00"><meta property="article:modified_time" content="2023-02-28T00:03:05+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="学习正则表达式"><meta name=twitter:description content="字符组 普通字符组 字符组是一组字符，在正则表达式中，它表示“在同一个位置可能出现的各种字符”，其写法是在一对方括号[和]之间列出所有可能出现的字符，简单的字符组包括[ab]、 [314]、[#.?]等。
普通字符串匹配数字字符的正则表达式：
[0123456789]
范围字符组 正则表达式提供了-范围表示法(range)，它更直观，能进一步简化字符组。所谓-范围表示法，就是用 麻烦，这样 就可以表示为确实比的形式表示 x 到 y 整个范围内的字符，省去一一列出的麻烦。 在字符组中，-表示的范围，一般是根据字符对应的码值(Code Point，也就是字符在对应编码表中的编码的数值)来确定的，码值小的字符在前，码值大的字符在后。因此[0-9] 是合法的，[9-0]会报错。
范围字符串匹配数字字符的正则表达式：
[0-9]
在字符组中可以同时并列多个-范围表示法，字符组[0-9a-zA-Z]可以匹配数字、大写 字母或小写字母
表示十六进制
[0-9a-fA-F]
字符串转义 在字符组中，如果要匹配的字符是特殊字符，就需要对特殊字符进行转义，比如要匹配字符组中的-，就需要对-进行转义，即\-。但是有时候却不需要转义。
如果要在字符组中匹配-，最好的办法是把-放在字符组的最前面或者最后面，这样就不需要转义了。比如，要匹配-，可以写成[0-9-]或者[-0-9]。
同理，如果要字符组中匹配方括号，则需要在方括号前面加上反斜杠\进行转义，即[123\]567]如果要匹配[123]567，则正则表达式为\[123\]567]，末尾的]不需要转义。
取反字符组 在字符组中，如果在第一个字符前面加上^，则表示取反，即不匹配字符组中的字符。比如，[^0-9]表示不匹配数字字符，[^a-z]表示不匹配小写字母。取反字符组必须匹配一个字符，如果不匹配任何字符，则会报错。
匹配0,9之外的数字
java
[^09]
^是正则表达式的元字符，只在[后面才表示取反，如果^不在[后面，匹配时不需要转义。 [0^12]和[\^012]是等价的，都表示匹配字符0、^或1、2。但是后者写起来会麻烦一些。
字符组简记法 对于常用的字符组，正则表达式提供了简记法，比如\d表示数字字符，\w表示单词字符，\s表示空白字符。
字符组 简记法 完整表示 数字字符 \d [0-9] 单词字符 \w [a-zA-Z0-9_] 空白字符 \s [ \t\n\v\f\r] \w 匹配单词字符，即字母、数字或下划线。如果只要匹配字母和数字，可以使用[a-zA-Z0-9]。
简记法也可以和普通字符组、范围字符组、取反字符组混合使用。
用在普通字符串内部
[\da-zA-Z]表示匹配数字字符或字母字符。
用在取反字符组内部
[^\w]表示匹配非单词字符。
\D, \W, \S 的使用
\D、\W、\S分别表示非数字字符、非单词字符、非空白字符。他们与\d、\w、\s形成互补关系。
匹配所有字符
[\s\S],\s表示空白字符，\S表示非空白字符，因此[\s\S]表示所有字符。同理，[\d\D] 和 [\w\W]表示所有字符。
如果在字符组中使用了简记法，则最好不要出现范围字符组，比如[\d-a]，简记法和范围字符组混用会导致不可预知的结果。
字符组运算 有部分编程语言提供了字符组运算的支持。不同的编程语言支持的字符组运算符不同，比如Java中的字符组运算符是&&，而Go中的字符组运算符是-。
我们要实现在字母中排除元音字母的效果，按照之前的写法，需要写成[bcdfghjklmnpqrstvwxyz]或者[b-df-hj-np-tv-z]，如果使用字符组运算，可以写成[a-z&&[^aeiou]] 。在这里，&&表示字符组运算符，&&前面的字符组表示基础字符组，&&后面的字符组表示排除字符组，即基础字符组中排除排除字符组中的字符。两者取交集，得到最终的字符组。"><link rel=stylesheet href=/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="><link rel=stylesheet href=/css/custom.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=/images/favicon.ico><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-X1L70M4MM0","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><header id=header><a href=/><div id=logo style=background-image:url(/images/logo.png)></div><div id=title><h1>Y.CH.Y</h1></div></a><div id=nav><ul><li class=icon><a href=# aria-label=Menu><i class="fas fa-bars fa-2x" aria-hidden=true></i></a></li><li><a href=/>首页</a></li><li><a href=/books>笔记</a></li><li><a href=/misc>杂</a></li></ul></div></header><article class=post itemscope itemtype=http://schema.org/BlogPosting><div class=content itemprop=articleBody><h2 id=字符组>字符组</h2><h3 id=普通字符组>普通字符组</h3><p>字符组是一组字符，在正则表达式中，它表示“在同一个位置可能出现的各种字符”，其写法是在一对方括号[和]之间列出所有可能出现的字符，简单的字符组包括[ab]、 [314]、[#.?]等。</p><p>普通字符串匹配数字字符的正则表达式：</p><p><code>[0123456789]</code></p><h3 id=范围字符组>范围字符组</h3><p>正则表达式提供了<code>-范围表示法(range)</code>，它更直观，能进一步简化字符组。所谓<code>-范围表示法</code>，就是用 麻烦，这样 就可以表示为确实比的形式表示 x 到 y 整个范围内的字符，省去一一列出的麻烦。
在字符组中，-表示的范围，一般是根据字符对应的码值(Code Point，也就是字符在对应编码表中的编码的数值)来确定的，码值小的字符在前，码值大的字符在后。因此[0-9]
是合法的，[9-0]会报错。</p><p>范围字符串匹配数字字符的正则表达式：</p><p><code>[0-9]</code></p><p>在字符组中可以同时并列多个<code>-范围表示法</code>，字符组[0-9a-zA-Z]可以匹配数字、大写 字母或小写字母</p><p>表示十六进制</p><p><code>[0-9a-fA-F]</code></p><h3 id=字符串转义>字符串转义</h3><p>在字符组中，如果要匹配的字符是特殊字符，就需要对特殊字符进行转义，比如要匹配字符组中的<code>-</code>，就需要对<code>-</code>进行转义，即<code>\-</code>。但是有时候却不需要转义。</p><p>如果要在字符组中匹配<code>-</code>，最好的办法是把<code>-</code>放在字符组的最前面或者最后面，这样就不需要转义了。比如，要匹配<code>-</code>，可以写成<code>[0-9-]</code>或者<code>[-0-9]</code>。</p><p>同理，如果要字符组中匹配方括号，则需要在方括号前面加上反斜杠<code>\</code>进行转义，即<code>[123\]567]</code>如果要匹配<code>[123]567</code>，则正则表达式为<code>\[123\]567]</code>，末尾的<code>]</code>不需要转义。</p><h3 id=取反字符组>取反字符组</h3><p>在字符组中，如果在第一个字符前面加上<code>^</code>，则表示取反，即不匹配字符组中的字符。比如，<code>[^0-9]</code>表示不匹配数字字符，<code>[^a-z]</code>表示不匹配小写字母。取反字符组必须匹配一个字符，如果不匹配任何字符，则会报错。</p><p>匹配0,9之外的数字</p><p>java</p><p><code>[^09]</code></p><p><code>^</code>是正则表达式的元字符，只在<code>[</code>后面才表示取反，如果<code>^</code>不在<code>[</code>后面，匹配时不需要转义。 <code>[0^12]</code>和<code>[\^012]</code>是等价的，都表示匹配字符<code>0</code>、<code>^</code>或<code>1</code>、<code>2</code>。但是后者写起来会麻烦一些。</p><h3 id=字符组简记法>字符组简记法</h3><p>对于常用的字符组，正则表达式提供了简记法，比如<code>\d</code>表示数字字符，<code>\w</code>表示单词字符，<code>\s</code>表示空白字符。</p><table><thead><tr><th>字符组</th><th>简记法</th><th>完整表示</th></tr></thead><tbody><tr><td>数字字符</td><td>\d</td><td>[0-9]</td></tr><tr><td>单词字符</td><td>\w</td><td>[a-zA-Z0-9_]</td></tr><tr><td>空白字符</td><td>\s</td><td>[ \t\n\v\f\r]</td></tr></tbody></table><p><code>\w</code> 匹配单词字符，即字母、数字或下划线。如果只要匹配字母和数字，可以使用<code>[a-zA-Z0-9]</code>。</p><p>简记法也可以和普通字符组、范围字符组、取反字符组混合使用。</p><p>用在普通字符串内部</p><p><code>[\da-zA-Z]</code>表示匹配数字字符或字母字符。</p><p>用在取反字符组内部</p><p><code>[^\w]</code>表示匹配非单词字符。</p><p><code>\D</code>, <code>\W</code>, <code>\S</code> 的使用</p><p><code>\D</code>、<code>\W</code>、<code>\S</code>分别表示非数字字符、非单词字符、非空白字符。他们与<code>\d</code>、<code>\w</code>、<code>\s</code>形成互补关系。</p><p>匹配所有字符</p><p><code>[\s\S]</code>,<code>\s</code>表示空白字符，<code>\S</code>表示非空白字符，因此<code>[\s\S]</code>表示所有字符。同理，<code>[\d\D]</code> 和 <code>[\w\W]</code>表示所有字符。</p><p>如果在字符组中使用了简记法，则最好不要出现范围字符组，比如<code>[\d-a]</code>，简记法和范围字符组混用会导致不可预知的结果。</p><h3 id=字符组运算>字符组运算</h3><p>有部分编程语言提供了字符组运算的支持。不同的编程语言支持的字符组运算符不同，比如Java中的字符组运算符是<code>&&</code>，而Go中的字符组运算符是<code>-</code>。</p><p>我们要实现在字母中排除元音字母的效果，按照之前的写法，需要写成<code>[bcdfghjklmnpqrstvwxyz]</code>或者<code>[b-df-hj-np-tv-z]</code>，如果使用字符组运算，可以写成<code>[a-z&&[^aeiou]]</code>
。在这里，<code>&&</code>表示字符组运算符，<code>&&</code>前面的字符组表示基础字符组，<code>&&</code>后面的字符组表示排除字符组，即基础字符组中排除排除字符组中的字符。两者取交集，得到最终的字符组。</p><h3 id=posix-字符组>POSIX 字符组</h3><p>以上的字符组定义都属于<code>PCRE</code>的流派，<code>PCRE</code>是Perl语言的正则表达式引擎，它的正则表达式语法和Perl语言的正则表达式语法基本一致，在大多数语言中得到了支持。
POSIX字符组是<code>POSIX</code>的流派，<code>POSIX</code>
是一个操作系统标准，它定义了操作系统的接口和行为，比如Linux/Unix操作系统都是基于<code>POSIX</code>标准的。
它的语法和普通字符组不同，但是功能和普通字符组一样。POSIX字符组的语法是<code>[:name:]</code>，其中<code>name</code>
是字符组的名称。他主要的的使用场景是Linux/Unix环境下各种工具（比如grep、sed、awk等）的正则表达式。</p><table><thead><tr><th>POSIX字符组</th><th>说明</th><th>PCRE</th></tr></thead><tbody><tr><td>[:alnum:]</td><td>字母或数字</td><td>[a-zA-Z0-9]</td></tr><tr><td>[:alpha:]</td><td>字母</td><td>[a-zA-Z]</td></tr><tr><td>[:blank:]</td><td>空白字符</td><td>[ \t]</td></tr><tr><td>[:cntrl:]</td><td>控制字符</td><td>[\x00-\x1F\x7F]</td></tr><tr><td>[:digit:]</td><td>数字</td><td>[0-9]</td></tr><tr><td>[:graph:]</td><td>图形字符</td><td>[!-~]</td></tr><tr><td>[:lower:]</td><td>小写字母</td><td>[a-z]</td></tr><tr><td>[:print:]</td><td>可打印字符</td><td>[ -~]</td></tr><tr><td>[:punct:]</td><td>标点符号</td><td>[!-/:-@[-`{-~]</td></tr><tr><td>[:space:]</td><td>空白字符</td><td>[ \t\n\v\f\r]</td></tr><tr><td>[:upper:]</td><td>大写字母</td><td>[A-Z]</td></tr><tr><td>[:word:]</td><td>单词字符</td><td>[a-zA-Z0-9_]</td></tr><tr><td>[:xdigit:]</td><td>十六进制数字</td><td>[0-9a-fA-F]</td></tr></tbody></table><p>不同语言对POSIX字符组的支持情况不同，视具体情况而定。</p></div></article><footer id=footer><div class=footer-left>Copyright &copy; 2023 Y.CH.Y</div><div class=footer-right><nav><ul><li><a href=/>首页</a></li><li><a href=/books>笔记</a></li><li><a href=/misc>杂</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script></html>